$(function(){function r(){var n;o();var r=i+"api/authenticate/login",s=$("input[name=iusername]").val(),h=$("input[name=ipassword]").val();f()?(n="Basic "+e(s+":"+h),jQuery.support.cors=!0,$.ajax({url:r,type:"POST",dataType:"text",headers:{Authorization:n},success:function(n,i,r){var f=r.getResponseHeader("Token"),e;f!==null&&f!=="undefined"&&(e=cookie.toDate(r.getResponseHeader("TokenExpiry")),e>cookie.today()&&(cookie.setCookie(cookie.tokenHeader,f,e),u()));t()},error:function(){t()}})):t()}function f(){var n=!0,t=$("input[name=iusername]").val(),i=$("input[name=ipassword]").val();return(t===null||t==="undefined"||t.trim().length===0)&&(n=!1,$("input[name=iusername]").parent().parent(".form-group").addClass("has-error")),(i===null||i==="undefined"||i.trim().length===0)&&(n=!1,$("input[name=ipassword]").parent().parent(".form-group").addClass("has-error")),n}function e(n){return window.btoa(n)}function o(){$("body").find("button[type=submit]").addClass("disabled");$("body").find("input[name=iusername]").addClass("disabled");$("body").find("input[name=ipassword]").addClass("disabled");$(".loading-results").removeClass("hide")}function t(){$("body").find("button[type=submit]").removeClass("disabled");$("body").find("input[name=iusername]").removeClass("disabled");$("body").find("input[name=ipassword]").removeClass("disabled");$(".loading-results").addClass("hide")}function u(){location.replace(i+"view/tracker_report_daterange.html")}var i=basics.baseUrl,n=cookie.getCookie(cookie.tokenHeader);n!==null&&n!=="undefined"&&n.trim().length!==0&&u();$("body").each(function(){$(this).find("input").keypress(function(n){(n.which===10||n.which===13)&&r()})});$("body").find("button[type=submit]").click(function(){r()})});